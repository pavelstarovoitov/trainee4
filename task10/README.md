"Задача  №10 написать на питоне скрипт для создание машины. далее питоном получить всю инфу про машину (ip,os,metrics,size + type) сменить ключ от него и потом все убить кодом на питоне. 
Сделать еще один скрипт (bash) на установку aws cli который сам поймет какая операционка. после установки разобраться с кредами и сделать профиль. По умолчанию ОС читает ТОЛЬКО баш скрипты. Т.е. нет питона и др. языков программирования. Стоит исползовать нативные пакетные менеджеры ОС. Скрипт должен отрабатывать под Redhat, Ubuntu, MacOS, Windows (+ другие по желанию) 
*Сбор метрик работает после отработки основного скрипта, так что нужно что бы отработал один скрипт, затем отдельный скрипт на сбор метрик 
Дедлайн 2 день"
***


### написать на питоне скрипт для создание машины. далее питоном получить всю инфу про машину (ip,os,metrics,size + type) сменить ключ от него и потом все убить кодом на питоне. 

### Импортирую библиотеки
![image0001](image0001.png)


### Определяю переменнные

![image0002](image0002.png)


### Функция для создание одного instance с операционной системой ubuntu, user ubuntu и именем myname
### Функция возвращает ec2.Instance(id='i-*****') класс инстанса который был создан
![image0003](image0003.png)

### Вызываю функцию которая создает инстанс, получаю ec2.Instance класс, из него получаю InstanceId
### по InstanceIds получаю PublicIpAddress инстанса
![image0004](image0004.png)


### Функция для получения метрик через ssh подключения и вызова утилит bash
![image0005](image0005.png)


### Функция для подмены публичного ключа

![image0006](image0006.png)

###  Функция для удаления инстанса по InstanceIds

![image0007](image0007.png)

### После вызова функции на создание инстанса жду 30 секунд
![image0008](image0008.png)

### Затем получаю метрики, меняю ключ, удаляю инстанс
![image0009](image0009.png)

### Результат выполнения скрипта 
![image0010](image0010.png)

## [Скрипт для создание и удаления инстанса](create_instance.py)
***

### Сделать еще один скрипт (bash) на установку aws cli который сам поймет какая операционка. после установки разобраться с кредами и сделать профиль.

### Получаю данные о инстансах

![image0011](image0011.png)

### В зависимости от типа инстанса выполняю разные скрипты на установку aws cli

![image0012](image0012.png)


### Передаю config и credentials файлы для aws cli
![image0013](image0013.png)


## [Скрипт для устновки aws cli на инстанс ](install_aws_cli.py)

## [deb_ubuntu.sh ](deb_ubuntu.sh)
## [redhat.sh ](redhat.sh)
## [macOS.sh ](macOS.sh)
## [win.sh ](win.sh)


### power.ps1

![image0014](image0014.png)

















